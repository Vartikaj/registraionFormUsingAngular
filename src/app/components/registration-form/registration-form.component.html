<form [formGroup] = "contactForm" (ngSubmit) = "submitDetails()">
    <div class="container">
        <div class="row">
            <div class="col-lg-6 mb-4">
                <input type="text" placeholder="Enter First name" formControlName="firstName" class="form-control" [ngClass]="{'is-invalid' : submitted && validations['firstName'].errors }" >
                <div *ngIf = "submitted && validations['firstName'].errors" class="mb-0">
                    <div *ngIf="validations['firstName'].errors['required']">First Name is required</div>
                    <div *ngIf="validations['firstName'].errors['pattern']">First Name must contain letter or space or dot(.) symbol</div>
                </div>
            </div>
            <div class="col-lg-6 mb-4">
                <input type="text" placeholder="Enter Last name" formControlName="lastName" class="form-control" [ngClass]="{'is-invalid' : submitted && validations['lastName'].errors }">
                <div *ngIf = "submitted && validations['lastName'].errors" class="mb-0">
                    <div *ngIf="validations['lastName'].errors['required']">Last Name is required</div>
                    <div *ngIf="validations['lastName'].errors['pattern']">First Name must contain letter or space or dot(.) symbol.</div>
                </div>
            </div>
            <div class="col-lg-6 mb-4">
                <input type="email" class="form-control" placeholder="Enter Email" formControlName="email" [ngClass]="{'is-invalid' : submitted && validations['email'].errors }">
                <div *ngIf = "submitted && validations['email'].errors" class="mb-0">
                    <div *ngIf="validations['email'].errors['required']">Email is required</div>
                    <div *ngIf="validations['email'].errors['email']">Invalid email is provided</div>
                </div>
            </div>
            <div class="col-lg-6 mb-4">
                <input type="tele" class="form-control" placeholder="Enter Phone Number" formControlName="phone" [ngClass]="{'is-invalid': submitted && validations['phone'].errors}">
                <div *ngIf = "submitted && validations['phone'].errors" class="mb-0">
                    <div *ngIf="validations['phone'].errors['required']">Phone Number is required</div>
                    <div *ngIf="validations['phone'].errors['pattern']">It should only contain numbers</div>
                    <div *ngIf="validations['phone'].errors['minLength']">Min 10 digit long</div>
                    <div *ngIf="validations['phone'].errors['maxLength']">Max 20 digit long</div>
                </div>
            </div>
            <div class="col-lg-12 mb-4">
                <label class="mb-2"><b>Address Information</b></label>

                <form formGroupName="address" [formGroup] = "addressForm" >
                    <div class="row">
                        <div class="col-lg-3">
                            <input type="text" class="form-control" placeholder="Enter Address" formControlName="streetAddress" [ngClass]="{'is-invalid': submitted && addressValidations['streetAddress'].errors}">
                            <div *ngIf = "submitted && addressValidations['streetAddress'].errors" class="mb-2">
                                <div *ngIf="addressValidations['streetAddress'].errors">Street Address is required</div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <input type="text" class="form-control" placeholder="Enter city Name" formControlName="city" [ngClass]="{'is-invalid': submitted && addressValidations['city'].errors}">
                            <div *ngIf = "submitted && addressValidations['city'].errors" class="mb-2">
                                <div *ngIf="addressValidations['city'].errors">City is required</div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <input type="text" class="form-control" placeholder="Enter State Name" formControlName="state" [ngClass]="{'is-invalid': submitted &&  addressValidations['state'].errors}">
                            <div *ngIf = "submitted && addressValidations['state'].errors" class="mb-2" >
                                <div *ngIf="addressValidations['state'].errors">State is required</div>
                            </div>
                        </div>
                        <div class="col-lg-3">
                            <input type="text" class="form-control" placeholder="Enter Postal Code Name" formControlName="postalCode" [ngClass]="{'is-invalid': submitted && addressValidations['postalCode'].errors}">
                            <div *ngIf = "submitted && addressValidations['postalCode'].errors" class="mb-2">
                                <div *ngIf="addressValidations['postalCode'].errors">Postal Code is required</div>
                            </div>
                        </div>
                    </div>
                </form>
            </div>

            <div class="col-lg-12">
                <button class="btn btn-primary">Register Now</button>
            </div>
        </div>
    </div>
</form>
<br/>
<br/>
<!--- LIST THE FORM DATA -->
<table border="1">
    <tr *ngFor="let item of posts.data">
        <td><a [routerLink]="['/adRegisterUserData']" [queryParams]="{ id: item._id }">Link</a> </td>
        <td> {{item.firstName}} </td>
        <td> {{item.lastname}} </td>
        <td> {{ item.email}} </td>
        <td> {{ item.phone}} </td>
        <td> {{ item.address.streetAddress }} </td>
        <td> {{ item.address.city }}</td>
        <td> {{ item.address.state }}</td>
        <td> {{ item.address.postalCode }}</td>
    </tr>
</table>
